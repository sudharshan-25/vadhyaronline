<div class="page-content">
  <h3>Soothram</h3>

  <nz-table #soothrams [nzData]="displayData" nzBordered [nzPageSize]="10" [nzSize]="'middle'"
            [nzLoading]="loading" nzTitle="Unapproved Soothrams">
    <thead (nzSortChange)="sort($event)" nzSingleSort>
    <tr>
      <th nzShowSort nzSortKey="soothramName" nzShowFilter [nzFilters]="filteringValues['soothramName']"
          (nzFilterChange)="filterData('soothramName', $event)">Soothram Name
      </th>
      <th nzShowSort nzSortKey="requestedBy" nzShowFilter [nzFilters]="filteringValues['requestedBy']"
          (nzFilterChange)="filterData('requestedBy', $event)">Requested By
      </th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let soothram of soothrams.data">
      <td>{{soothram.soothramName}}</td>
      <td>{{soothram.requestedBy}}</td>
      <td>
        <button *ngIf="!soothram.approved" nz-button [nzType]="'primary'" (click)="approveEntity(soothram)">Approve
        </button>
        <button nz-button [nzType]="'default'" (click)="editSoothram(soothram)"> Update <i
          class="anticon anticon-edit"></i></button>
        <button *ngIf="!soothram.approved" nz-button [nzType]="'danger'" (click)="deleteEntity(soothram)"> Delete <i
          class="anticon anticon-delete"></i>
        </button>
      </td>
    </tr>
    </tbody>
  </nz-table>
  <nz-modal [(nzVisible)]="editAllowed" nzTitle="Edit Soothram"
            (nzOnCancel)="cancelChanges()" (nzOnOk)="updateEntity()" nzOkText="Update">

  </nz-modal>
</div>
